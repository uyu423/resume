/* === Design Tokens === */
:root {
  /* Typography */
  --font-display: 'Pretendard', -apple-system, sans-serif;
  --font-body: 'Pretendard', -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --font-signature: 'Parisienne', cursive;

  --fw-light: 300;
  --fw-regular: 400;
  --fw-medium: 500;
  --fw-semibold: 600;
  --fw-bold: 700;
  --fw-extrabold: 800;

  /* Colors - Light Mode */
  --color-primary: #1a1a2e;
  --color-accent: #4361ee;
  --color-accent-hover: #3a56d4;
  --color-text: #2d2d2d;
  --color-text-secondary: #64748b;
  --color-text-muted: #94a3b8;
  --color-border: #e2e8f0;
  --color-bg: #ffffff;
  --color-bg-subtle: #f8fafc;
  --color-bg-highlight: #eef2ff;
  --color-success: #10b981;
  --color-info: #0ea5e9;

  /* Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 40px;
  --space-2xl: 64px;
  --space-3xl: 96px;

  /* Transitions */
  --transition-fast: 150ms ease-out;
  --transition-base: 200ms ease-out;
  --transition-slow: 300ms ease-out;
  --transition-enter: 600ms ease-out;
}

/* Dark mode tokens (ready for Phase 10) */
[data-theme="dark"] {
  --color-primary: #e2e8f0;
  --color-accent: #818cf8;
  --color-accent-hover: #6366f1;
  --color-text: #cbd5e1;
  --color-text-secondary: #94a3b8;
  --color-text-muted: #64748b;
  --color-border: #334155;
  --color-bg: #0f172a;
  --color-bg-subtle: #1e293b;
  --color-bg-highlight: #1e1b4b;
  --color-success: #34d399;
  --color-info: #38bdf8;
}

/* Focus styles */
:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: 2px;
}
:focus:not(:focus-visible) {
  outline: none;
}

/* Print styles */
@media print {
  /* === 1. 인터랙티브 요소 숨김 === */
  .floating-nav,
  .cta-button,
  .dark-mode-toggle,
  .notice-banner,
  .scroll-to-top,
  .language-toggle {
    display: none !important;
  }

  /* === 2. 애니메이션/전환 제거 === */
  .section-animate {
    opacity: 1 !important;
    transform: none !important;
  }

  * {
    animation: none !important;
    transition: none !important;
    box-shadow: none !important;
  }

  /* === 3. 레이아웃 === */
  body {
    width: 210mm;
    margin: 0;
    padding: 0;
    font-size: 11pt;
    line-height: 1.5;
    color: #000 !important;
    background: #fff !important;
  }

  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }

  h1 { font-size: 20pt; }
  h2 { font-size: 14pt; }
  h4 { font-size: 11pt; }

  /* === 4. 카드 스타일 간소화 === */
  .highlight-card,
  .testimonial-card {
    border: 1px solid #ddd !important;
    background: white !important;
    padding: 12px !important;
  }

  /* === 5. 링크 URL 표시 === */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
    word-break: break-all;
  }
  /* 내부 링크는 URL 미표시 */
  a[href^="mailto"]::after,
  a[href^="tel"]::after,
  a[href^="#"]::after {
    content: "" !important;
  }

  /* === 6. 외부 이미지 뱃지 숨김 (인쇄 시 깨짐 방지) === */
  img[src*="shields.io"],
  img[src*="badge"],
  img[src*="img.shields.io"] {
    display: none !important;
  }

  /* === 7. 페이지 분할 제어 === */
  .experience-item,
  .project-item,
  .testimonial-card {
    break-inside: avoid;
  }
  h2, h3, h4 {
    break-after: avoid;
  }
  section {
    break-before: auto;
  }

  /* === 8. A4 레이아웃 === */
  @page {
    margin: 15mm;
    size: A4;
  }

  /* === 9. 다크 모드 강제 해제 === */
  html[data-theme="dark"],
  html[data-theme="dark"] * {
    color: #000 !important;
    background-color: #fff !important;
    border-color: #ddd !important;
  }

  /* === 10. 프로필 사진 인쇄 최적화 === */
  .profile-image,
  img[alt*="profile"],
  img[alt*="Profile"] {
    width: 100px !important;
    height: 100px !important;
    border: 1px solid #ddd !important;
  }
}

/* Below-fold sections: skip rendering until near viewport */
.section-animate {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* Hover effects */
.cta-button-primary:hover {
  background-color: var(--color-accent-hover) !important;
}
.cta-button-outline:hover {
  background-color: var(--color-bg-highlight) !important;
}
.highlight-card {
  transition: transform var(--transition-base), box-shadow var(--transition-base);
}
.highlight-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .section-animate {
    opacity: 1;
    transform: none;
    transition: none;
  }
}
